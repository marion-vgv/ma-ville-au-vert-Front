{"mappings":"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","sources":["./src/assets/js/formModule.js","./src/assets/js/resultModule.js","./src/assets/js/app.js"],"sourcesContent":["\nexport default formModule = {\n  base_url: null,\n\n  setBaseUrl: (url) => {\n    formModule.base_url = url;\n  },\n\n  // Récupération des options pour générer le formulaire\n  getFormOptionsFromAPI: async () => {\n\n    try {\n      const result = await fetch(`${formModule.base_url}/`, {\n        method: \"GET\",\n      });\n\n      const json = await result.json();\n      \n      formModule.setFormOptions(json);\n\n    } catch (error) {\n      console.error(`Impossible de charger les options depuis l'API `, error);\n    }\n  },\n\n  // Injection des options dans le HTML\n  setFormOptions: (options) => {\n    // console.log(\"setFormOptions\");\n\n    // -- OPTIONS DE REGIONS\n    const locationRegion = document.getElementById(\"locationRegion\");\n\n    for (const region of options.regions) {\n      if (region.id > 5) {\n        const regionOption = document.createElement(\"option\");\n        regionOption.setAttribute(\"value\", region.id);\n        const regionOptionText = document.createTextNode(region.name_region);\n        regionOption.appendChild(regionOptionText);\n        locationRegion.appendChild(regionOption);\n      }\n    }\n\n    // -- OPTIONS DE DEPARTEMENTS\n    const locationDepartment = document.getElementById(\"locationDepartment\");\n\n    for (const department of options.departments) {\n      if (department.id < 500) {\n        const departmentOption = document.createElement(\"option\");\n        departmentOption.setAttribute(\"value\", department.id);\n        const departmentOptionText = document.createTextNode(\n          department.name_dpt\n        );\n        departmentOption.appendChild(departmentOptionText);\n        locationDepartment.appendChild(departmentOption);\n      }\n    }\n  },\n\n  handleSearchForm: async (event) => {\n    event.preventDefault();\n\n    const formData = new FormData(event.target);\n\n    console.log('handleSearchForm');\n\n    let error = {\n      location : false,\n      type: false,\n      population : false,\n      school : false,\n    };\n\n    //\n    // VERIFICATION QUE LE FORM EST CORRECTEMENT REMPLI\n    //\n    //\n    // PAR REGION : IL FAUT SELECTIONNER UNE REGION\n    if (\n      formData.get(\"location\") === \"region\" &&\n      (isNaN(parseInt(formData.get(\"locationRegion\"))) || formData.get(\"locationRegion\") === null)\n    ) \n    {\n      const fieldRegion = document\n        .getElementById(\"locationRegion\")\n        .closest(\".radioButtonOption\");\n\n      fieldRegion.classList.add(\"error\");\n      const formBlock = fieldRegion.closest(\".formBlockRadio\");\n      formBlock.addEventListener(\"click\", () => {\n        fieldRegion.classList.remove(\"error\");\n        error.location = false;\n        formModule.removeWrongSearchAlert(error);\n      });\n\n      error.location = true;\n    }\n\n    // PAR DEPARTEMENT : IL FAUT SELECTIONNER UN DEPARTEMENT\n    if (\n      formData.get(\"location\") === \"department\" &&\n      isNaN(parseInt(formData.get(\"locationDepartment\")))\n    ) \n    {\n      const fieldDepartment = document\n        .getElementById(\"locationDepartment\")\n        .closest(\".radioButtonOption\");\n      fieldDepartment.classList.add(\"error\");\n      const formBlock = fieldDepartment.closest(\".formBlockRadio\");\n      formBlock.addEventListener(\"click\", () => {\n        fieldDepartment.classList.remove(\"error\");\n        error.location = false;\n        formModule.removeWrongSearchAlert(error);\n      });\n\n      error.location = true;\n    }\n\n    // AIRE URBAINE : IL FAUT FAIRE UNE SELECTION\n    if (\n      formData.get(\"type\") === \"urbaine\" &&\n      isNaN(parseInt(formData.get(\"uu\")))\n    )\n    {\n      const fieldUU = document\n        .getElementById(\"uu\")\n        .closest(\".radioButtonOption\");\n      fieldUU.classList.add(\"error\");\n      const formBlock = fieldUU.closest(\".formBlockRadio\");\n      formBlock.addEventListener(\"click\", () => {\n        fieldUU.classList.remove(\"error\");\n        error.type = false;\n        formModule.removeWrongSearchAlert(error);\n      });\n\n      error.type = true;\n    }\n\n    // POPULATION : IL FAUT QUE GAUCHE SOIT INFERIEUR A DROITE\n    if (parseInt(formData.get(\"townMin\")) > parseInt(formData.get(\"townMax\"))) \n    {\n      const fieldMin = document\n        .getElementById(\"townMin\")\n        .closest(\".formBlockSelect\");\n      const fieldMax = document\n        .getElementById(\"townMax\")\n        .closest(\".formBlockSelect\");\n      fieldMin.classList.add(\"error\");\n      fieldMax.classList.add(\"error\");\n      const formBlock = fieldMin.closest(\".formBlock\");\n      formBlock.addEventListener(\"click\", () => {\n        fieldMin.classList.remove(\"error\");\n        fieldMax.classList.remove(\"error\");\n        error.population = false;\n        formModule.removeWrongSearchAlert(error);\n      });\n      error.population = true;\n    }\n\n    // ECOLE : IL FAUT SELECTIONNER AU MOINS UN TYPE D'ECOLE\n    if (\n      formData.get(\"school\") === \"true\" &&\n      formData.get(\"schoolOptions\") === null\n    ) \n    {\n      const fieldSchool = document\n        .getElementById(\"schoolOptions\")\n        .closest(\".radioButtonOption\");\n      fieldSchool.classList.add(\"error\");\n      const formBlock = fieldSchool.closest(\".formBlockRadio\");\n      formBlock.addEventListener(\"click\", () => {\n        fieldSchool.classList.remove(\"error\");\n        error.school = false;\n        formModule.removeWrongSearchAlert(error);\n      });\n      error.school = true;\n    }\n\n    //\n    // SI LE FORM N'EST PAS REMPLI CORRECTEMENT :\n    //\n    if(error.location == true || error.population == true || error.school == true || error.type == true ){\n      const errorAlert = document.getElementById('formErrorAlert');\n      errorAlert.classList.remove('isInvisible');\n      errorAlert.classList.add('formErrorAlert');\n    }\n\n    //\n    // SI LE FORM EST REMPLI CORRECTEMENT :\n    //\n    if (error.location == false && error.population == false && error.school == false && error.type == false) {\n\n      console.log('else');\n\n      // CACHER LE FORM DE RECHERCHE\n      const form = document.getElementById(\"searchForm\");\n      form.classList.add(\"isInvisible\");\n\n      // AFFICHER LE LOADER\n      const loader = document.getElementById(\"searchInProgress\");\n      loader.classList.remove(\"isInvisible\");\n\n      // ENVOYER LA RECHERCHE AU BACK\n      try {\n        const result = await fetch(`${formModule.base_url}/`, {\n          method: \"POST\",\n          body: formData,\n        });\n\n        if (result.ok) {\n          const json = await result.json();\n          console.log(`On a reçu un résultat !`);\n\n          resultModule.showSearchResults(json);\n        } else {\n          console.error(\"On a eu un pépin sur le serveur\");\n        }\n      } catch (error) {\n        console.error(\n          `Impossible de charger les résultats de la recherche depuis l'API`,\n          error\n        );\n      }\n    }\n  },\n\n  removeWrongSearchAlert : (error) => {\n  \n    if (error.location == false && error.population == false && error.school == false && error.type == false ){\n      const errorAlert = document.getElementById('formErrorAlert');\n      errorAlert.classList.add('isInvisible');\n      errorAlert.classList.remove('formErrorAlert');\n    }\n  }\n};\n","import app from './app';\n\nexport default resultModule = {\n  base_url: null,\n\n  setBaseUrl: (url) => {\n    resultModule.base_url = url;\n  },\n\n  showSearchResults: (results) => {\n    console.log(\"Search results !\");\n\n    // GENERER LE MENU DES RESULTATS\n    resultModule.handleSearchMenuOptions(results);\n\n    // CACHER LE LOADER\n    const loader = document.getElementById(\"searchInProgress\");\n    loader.classList.add(\"isInvisible\");\n\n    // AFFICHER LA SECTION D'AFFICHAGE DES RESULTATS\n    const searchResults = document.getElementById(\"searchResults\");\n    searchResults.classList.remove(\"isInvisible\");\n\n    // AFFICHER LE NOMBRE DE RESULTATS DISPONIBLES\n    const resultSentence = document.getElementById(\"searchResultsNumber\");\n    if (results.length == 0) {\n      resultSentence.textContent = `Il n'existe pas de ville correspondant à votre recherche`;\n    }\n    if (results.length == 1) {\n      resultSentence.textContent = `Il existe ${results.length} ville correspondant à votre recherche`;\n    }\n    if (results.length > 1) {\n      resultSentence.textContent = `Il existe ${results.length} villes correspondant à votre recherche`;\n    }\n\n    // GENERER 1 FICHE VILLE / RESULTAT \n    for (const result of results) {\n      resultModule.makeTownCardInDOM(result);\n    }\n  },\n\n  makeTownCardInDOM: (data) => {\n    // console.log(data);\n\n    const template = document.getElementById(\"townCardTemplate\");\n    const node = document.importNode(template.content, true);\n\n    // NOM DE VILLE\n    const townName = node.querySelector(\".townCardName\");\n    townName.textContent = data.name_town;\n\n    // NOM DE REGION\n    const townRegion = node.querySelector(\".townCardRegion\");\n    townRegion.textContent = `(${data.region.name_region})`;\n\n    // NOM DE DEPARTEMENT\n    const townDepartment = node.querySelector(\".townCardDepartment\");\n    townDepartment.textContent = data.department.name_dpt;\n\n    // ZONE URBAINE OU ZONE RURALE\n    const townUU = node.querySelector(\".townCardUU\");\n    const uuName = data.urban_unit.name_uu;\n\n    //console.log(\"uuName\");\n    //console.log(uuName);\n\n    if (uuName.includes(\"hors unité urbaine\") == true) {\n      const uuNameUpdated = uuName.replace(\"hors unité urbaine\", \"rurale\");\n      console.log(uuName);\n      townUU.textContent = uuNameUpdated;\n    } else {\n      townUU.textContent = `Commune appartenant à l'aire urbaine de ${uuName}`;\n    }\n\n    // NB HABITANTS\n    const townPopulation = node.querySelector(\".townCardPop\");\n    townPopulation.textContent = `${data.population.population_total} habitants`;\n\n    // ECOLES\n    const townSchool = node.querySelector(\".townCardSchool\");\n    const schoolSection = node.querySelector(\".schoolSection\");\n    const schoolIcon = node.querySelector(\".schoolIcon\");\n\n    const dataKeys = Object.keys(data);\n\n    if (dataKeys.includes(\"school\") == true) {\n      const schools = data.school;\n\n      if (schools.length == 1) {\n        townSchool.textContent = `Il y a ${data.school.length} école correspondant à votre recherche :`;\n      }\n\n      if (schools.length > 1) {\n        townSchool.textContent = `Il y a ${data.school.length} écoles correspondant à votre recherche :`;\n      }\n\n      const schoolList = document.createElement(\"ul\");\n      schoolList.setAttribute(\"class\", \"schoolList\");\n      townSchool.appendChild(schoolList);\n\n      for (const school of schools) {\n        const schoolElement = document.createElement(\"li\");\n        schoolElement.setAttribute(\"class\", \"schoolElement\");\n        schoolElement.textContent = `- ${school.name_place} (${school.secteur})`;\n        schoolList.appendChild(schoolElement);\n      }\n    } else {\n      townSchool.setAttribute(\"hidden\", \"\");\n      schoolSection.setAttribute(\"hidden\", \"\");\n      schoolIcon.setAttribute(\"hidden\", \"\");\n    }\n\n    // AJOUT DE LA CARTE AU DOM\n    document.getElementById(\"searchResultsContainer\").appendChild(node);\n  },\n\n\n  handleSearchMenuOptions : () => {\n\n    // NOUVELLE RECHERCHE : RELOAD DE LA PAGE D'ACCUEIL\n    const newSearch = document.getElementById(\"newSearch\");\n    newSearch.addEventListener(\"click\", app.reloadHomepage);\n\n    // TODO MODIFIER LA RECHERCHE\n\n    // TODO ENVOYER LES RESULTATS DE RECHERCHE PAR MAIL AVEC MAILTO\n\n  }\n};\n","import formModule from './formModule';\nimport resultModule from './resultModule';\n\n\nexport default app = {\n\n  base_url:\"https://mavilleauvertpublicapi.onrender.com\",\n\n  init: async () => {\n    console.log(\"app.init !\");\n\n    formModule.setBaseUrl(app.base_url);\n    resultModule.setBaseUrl(app.base_url);\n    app.addListeners();\n\n    \n    await formModule.getFormOptionsFromAPI();\n\n  },\n\n  addListeners: () => {\n    const searchForm = document.getElementById(\"searchForm\");\n    searchForm.addEventListener(\"submit\", (event)=> {formModule.handleSearchForm(event)});\n    console.log(`L'event listener is in da place !`);\n    console.log(`Coucou toi fellow dev qui jette un oeil dans la console ! Pour voir le code, ça se passe ici : https://github.com/marion-vgv`);\n\n    const aboutLink = document.getElementById(\"aboutLink\");\n    aboutLink.addEventListener(\"click\", app.showAboutModal);\n\n    const closeModalIcon = document.getElementById(\"closeIcon\");\n    closeModalIcon.addEventListener(\"click\", app.hideAboutModal);\n  },\n\n  // handleSearchForm: (event) => {\n  //   formModule.handleSearchForm(event);\n  // },\n\n  reloadHomepage : () => {\n    document.location.reload();\n  },\n\n  showAboutModal : () => {\n    const modal = document.getElementById(\"modal\");\n    modal.classList.remove(\"isInvisible\");\n\n\n  },\n\n  hideAboutModal : () => {\n    const modal = document.getElementById(\"modal\");\n    modal.classList.add(\"isInvisible\");\n  }\n\n};\n\ndocument.addEventListener(\"DOMContentLoaded\", app.init);\n"],"names":["formModule","base_url","setBaseUrl","url","getFormOptionsFromAPI","async","result","fetch","method","json","setFormOptions","error","console","options","locationRegion","document","getElementById","region","regions","id","regionOption","createElement","setAttribute","regionOptionText","createTextNode","name_region","appendChild","locationDepartment","department","departments","departmentOption","departmentOptionText","name_dpt","handleSearchForm","event","preventDefault","formData","FormData","target","log","location","type","population","school","get","isNaN","parseInt","fieldRegion","closest","classList","add","addEventListener","remove","removeWrongSearchAlert","fieldDepartment","fieldUU","fieldMin","fieldMax","fieldSchool","errorAlert","body","ok","resultModule","showSearchResults","results","handleSearchMenuOptions","resultSentence","length","textContent","makeTownCardInDOM","data","template","node","importNode","content","querySelector","name_town","townUU","uuName","urban_unit","name_uu","includes","uuNameUpdated","replace","population_total","townSchool","schoolSection","schoolIcon","Object","keys","schools","schoolList","schoolElement","name_place","secteur","_default","reloadHomepage","app","init","addListeners","$e5eea43136c8cd618599be1934fe4f5f$export$default","showAboutModal","hideAboutModal","reload"],"version":3,"file":"index.HASH_REF_99d5daca8d3e5e5b8c46c9929d032095.js.map"}